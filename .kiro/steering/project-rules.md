---
inclusion: always
---

# 项目开发规范

## 技术栈

- **包管理器**: Bun（不使用 npm）
- **后端**: Rust + Tauri
- **前端**: Vue 3 + TypeScript + Vite
- **数据库**: PostgreSQL

### 命令规范

- ✅ 使用 `bun install`、`bun run`、`bun test`
- ❌ 不要使用 `npm install`、`npm run`、`npm test`

## 语言规范

- **代码注释**: 中文
- **文档**: 中文
- **变量/函数命名**: 英文（遵循各语言惯例）
- **提交信息**: 中文

## 测试规范

### 测试要求

1. **代码编写完成后必须进行测试**
2. **所有测试用例及对应代码要统一管理**
3. **形成用例文档方便索引**

### 测试目录结构

```
test/
├── frontend/              # 前端测试
│   ├── unit/             # 单元测试
│   ├── integration/      # 集成测试
│   └── e2e/              # 端到端测试
├── backend/              # 后端测试
│   ├── unit/             # 单元测试
│   ├── integration/      # 集成测试
│   └── property/         # 属性测试
├── docs/                 # 测试文档
│   ├── test-cases.md     # 测试用例索引
│   ├── coverage.md       # 测试覆盖率报告
│   └── modules/          # 各模块测试文档
│       ├── database.md
│       ├── sql-editor.md
│       └── table-designer.md
└── README.md             # 测试总览
```

### 测试文档规范

每个模块的测试文档应包含：

1. **模块概述**
2. **测试用例列表**
   - 用例编号
   - 用例描述
   - 测试类型（单元/集成/E2E）
   - 对应测试文件路径
   - 测试状态（通过/失败/待实现）
3. **测试覆盖率**
4. **已知问题**
5. **待补充测试**

### 测试命名规范

- **前端测试文件**: `*.spec.ts` 或 `*.test.ts`
- **后端测试文件**: `*_test.rs` 或 `test_*.rs`
- **测试函数**: 使用描述性名称，清晰表达测试意图

### 测试类型

1. **单元测试**: 测试单个函数/组件
2. **集成测试**: 测试模块间交互
3. **属性测试**: 测试属性和不变量（Rust）
4. **E2E 测试**: 测试完整用户流程

## 代码质量

- 使用 ESLint + Prettier（前端）
- 使用 Clippy + Rustfmt（后端）
- 提交前运行 lint 检查
- 保持代码简洁、可读

## 文件组织

- 按功能模块组织代码
- 相关文件放在同一目录
- 测试文件与源文件分离但结构对应
- 文档集中管理在 `docs/` 目录

## 提交规范

- 提交信息使用中文
- 格式：`类型: 简短描述`
- 类型：feat（功能）、fix（修复）、docs（文档）、test（测试）、refactor（重构）等
