# PostgreSQL 数据库工具 - UI 优化版

## 🎉 新界面特性

本次更新将界面完全重构为类似 **VS Code 数据库扩展**的专业风格，提供更高效的数据库管理体验。

### ✨ 主要特性

#### 1. VS Code 风格的活动栏
- 48px 宽的左侧图标导航
- 图标化菜单，节省空间
- 悬停显示完整名称
- 活动项高亮指示

#### 2. 树形数据库资源管理器
```
📁 CONNECTIONS
  └─ 🗄️ personnel_db
      └─ 📁 Schemas
          └─ 📁 public
              └─ 📁 Tables
                  ├─ 📋 employees (150)
                  ├─ 📋 departments (10)
                  └─ 📋 projects (25)
```

#### 3. 多标签页编辑器
- SQL 查询编辑器
- 表数据查看器
- 可同时打开多个标签页
- 独立的标签页状态管理

#### 4. 完整的 CRUD 功能
- ✅ 查看表数据（分页浏览）
- ✅ 新增记录
- ✅ 编辑记录
- ✅ 删除记录
- ✅ 刷新数据

## 🚀 快速开始

### 方式一：使用启动脚本
```bash
# Windows
start_optimized.bat

# Linux/Mac
./start.sh
```

### 方式二：手动启动
```bash
# 1. 构建前端（如果有修改）
cd frontend
bun run build

# 2. 运行应用
cd ../src-tauri
cargo run --release
```

## 📖 使用指南

### 基本操作流程

1. **打开数据库资源管理器**
   - 点击左侧活动栏的第二个图标（数据库图标）

2. **加载数据库列表**
   - 点击侧边栏顶部的刷新按钮 🔄
   - 等待数据库列表加载完成

3. **浏览数据库结构**
   - 点击数据库名称前的箭头展开
   - 展开 Schemas → public → Tables
   - 查看所有表及其行数

4. **查看表数据**
   - 双击表名
   - 表数据在新标签页中打开
   - 使用分页控件浏览数据

5. **编辑数据**
   - 点击数据行右侧的"编辑"按钮
   - 在弹出的表单中修改数据
   - 点击"保存"提交更改

6. **新增数据**
   - 点击工具栏的"新增"按钮
   - 填写表单
   - 点击"创建"保存

7. **删除数据**
   - 点击数据行右侧的"删除"按钮
   - 确认删除操作

### 高级功能

#### 多标签页管理
- 可同时打开多个表的数据
- 点击标签页标题切换
- 点击标签页上的 × 关闭

#### 分页浏览
- 支持 10/20/50/100 条/页
- 使用表格底部的分页控件
- 显示总行数和当前页

#### 主题切换
- 点击活动栏底部的主题图标
- 在亮色和暗色主题之间切换

## 🎨 界面布局

```
┌─────┬──────────────┬────────────────────────────────────┐
│     │              │  Header (40px)                     │
│  A  │   Sidebar    ├────────────────────────────────────┤
│  c  │   (280px)    │                                    │
│  t  │              │                                    │
│  i  │  📁 CONN     │  Tab 1 | Tab 2 | Tab 3 | +        │
│  v  │   └─ DB1     │  ────────────────────────────────  │
│  i  │      └─ Sch  │                                    │
│  t  │         └─ T │  Content Area                      │
│  y  │            ├ │  (SQL Editor / Table Viewer)       │
│     │            ├ │                                    │
│  B  │            └ │                                    │
│  a  │              │                                    │
│  r  │              │                                    │
│     │              │                                    │
│ (48)│              │                                    │
└─────┴──────────────┴────────────────────────────────────┘
```

## 🔧 技术栈

### 前端
- **Vue 3** - 渐进式 JavaScript 框架
- **Naive UI** - 优雅的 Vue 3 组件库
- **TypeScript** - 类型安全的 JavaScript
- **Vite** - 快速的构建工具

### 后端
- **Rust** - 高性能系统编程语言
- **Tauri** - 轻量级桌面应用框架
- **PostgreSQL** - 强大的关系型数据库

### 关键组件
- `NTree` - 树形视图
- `NTabs` - 标签页管理
- `NDataTable` - 数据表格
- `NModal` - 模态对话框

## 📝 更新日志

### 2026-02-10 - 重大界面改版

#### 新增
- ✅ VS Code 风格的活动栏
- ✅ 树形数据库资源管理器
- ✅ 多标签页编辑器系统
- ✅ SQL 查询编辑器（界面）
- ✅ 表数据查看器
- ✅ 完整的 CRUD 功能

#### 修复
- ✅ SQL 查询字段名错误（tablename → relname）
- ✅ 前后端参数命名不一致问题
- ✅ 数据加载和显示问题

#### 优化
- ✅ 更紧凑的布局设计
- ✅ 更专业的视觉效果
- ✅ 更流畅的交互体验
- ✅ 懒加载优化性能

## 🐛 已知问题

1. **SQL 查询执行功能待实现**
   - 当前 SQL 编辑器仅提供界面
   - 需要后端支持自定义 SQL 查询

2. **语法高亮待添加**
   - 建议集成 Monaco Editor 或 CodeMirror

## 🔮 未来计划

### 短期计划
- [ ] 实现 SQL 查询执行功能
- [ ] 添加 SQL 语法高亮
- [ ] 添加查询历史记录
- [ ] 支持导出查询结果

### 中期计划
- [ ] 表结构查看器
- [ ] 索引和约束管理
- [ ] 数据库关系图
- [ ] 快捷键支持

### 长期计划
- [ ] 多数据库连接管理
- [ ] 数据库性能监控
- [ ] 备份和恢复管理
- [ ] 用户权限管理

## 📚 相关文档

- [UI 使用指南](frontend/UI_GUIDE.md) - 详细的使用说明
- [UI 更新日志](frontend/UI_CHANGELOG.md) - 完整的更新记录
- [优化总结](UI_OPTIMIZATION_SUMMARY.md) - 技术实现总结

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License

## 🙏 致谢

感谢所有贡献者和用户的支持！

---

**享受新的界面体验！** 🎉
